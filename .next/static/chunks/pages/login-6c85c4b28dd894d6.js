(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{6429:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n(2946)}])},2946:function(e,t,n){"use strict";n.r(t);var s=n(5893),a=n(7294),u=n(7066),o=n(1163);t.default=()=>{let[e,t]=(0,a.useState)(""),[n,i]=(0,a.useState)(""),[l,r]=(0,a.useState)(""),c=(0,o.useRouter)(),d=async t=>{t.preventDefault();try{let t=await u.Z.post("/api/auth/login",{username:e,password:n});localStorage.setItem("token",t.data.token),r("Login successful!"),c.push("/plans")}catch(e){var s,a;r((null===(a=e.response)||void 0===a?void 0:null===(s=a.data)||void 0===s?void 0:s.message)||"Login failed.")}};return(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{children:"Login"}),(0,s.jsxs)("form",{onSubmit:d,children:[(0,s.jsx)("input",{type:"text",placeholder:"Username",value:e,onChange:e=>t(e.target.value)}),(0,s.jsx)("input",{type:"password",placeholder:"Password",value:n,onChange:e=>i(e.target.value)}),(0,s.jsx)("button",{type:"submit",children:"Login"})]}),l&&(0,s.jsx)("p",{children:l})]})}},1163:function(e,t,n){e.exports=n(9090)}},function(e){e.O(0,[66,888,774,179],function(){return e(e.s=6429)}),_N_E=e.O()}]);