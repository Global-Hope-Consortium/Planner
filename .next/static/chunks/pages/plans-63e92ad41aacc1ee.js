(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[892],{2797:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/plans",function(){return a(5840)}])},5840:function(e,t,a){"use strict";a.r(t);var n=a(5893),r=a(7294),l=a(7066);t.default=()=>{let[e,t]=(0,r.useState)([]),[a,o]=(0,r.useState)(""),[s,u]=(0,r.useState)(""),[i,c]=(0,r.useState)(""),h=async()=>{try{let e=localStorage.getItem("token"),a=await l.Z.get("/api/plans",{headers:{Authorization:"Bearer ".concat(e)}});t(a.data)}catch(e){console.error("Error fetching plans:",e)}},p=async e=>{e.preventDefault();try{let e=localStorage.getItem("token");await l.Z.post("/api/plans",{title:a,amount:s,description:i},{headers:{Authorization:"Bearer ".concat(e)}}),h()}catch(e){console.error("Error adding plan:",e)}};return(0,r.useEffect)(()=>{h()},[]),(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{children:"Your Plans"}),(0,n.jsxs)("form",{onSubmit:p,children:[(0,n.jsx)("input",{type:"text",placeholder:"Title",value:a,onChange:e=>o(e.target.value)}),(0,n.jsx)("input",{type:"number",placeholder:"Amount",value:s,onChange:e=>u(e.target.value)}),(0,n.jsx)("textarea",{placeholder:"Description",value:i,onChange:e=>c(e.target.value)}),(0,n.jsx)("button",{type:"submit",children:"Add Plan"})]}),(0,n.jsx)("ul",{children:e.map(e=>(0,n.jsxs)("li",{children:[e.title,": ",e.amount]},e.id))})]})}}},function(e){e.O(0,[66,888,774,179],function(){return e(e.s=2797)}),_N_E=e.O()}]);