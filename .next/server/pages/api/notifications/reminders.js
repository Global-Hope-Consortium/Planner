(()=>{var e={};e.id=186,e.ids=[186],e.modules={9344:e=>{"use strict";e.exports=require("jsonwebtoken")},145:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},496:e=>{"use strict";e.exports=require("sequelize")},5616:e=>{"use strict";e.exports=import("next-connect")},6249:(e,t)=>{"use strict";Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},314:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{config:()=>l,default:()=>u,routeModule:()=>d});var n=r(1802),i=r(7153),o=r(6249),a=r(5607),c=e([a]);a=(c.then?(await c)():c)[0];let u=(0,o.l)(a,"default"),l=(0,o.l)(a,"config"),d=new n.PagesAPIRouteModule({definition:{kind:i.x.PAGES_API,page:"/api/notifications/reminders",pathname:"/api/notifications/reminders",bundlePath:"",filename:""},userland:a});s()}catch(e){s(e)}})},2884:(e,t,r)=>{"use strict";let{Sequelize:s}=r(496),n=new s(process.env.DATABASE_URL,{dialect:"postgres",logging:!1}),i=async()=>{try{await n.authenticate(),console.log("Database connected successfully.")}catch(e){console.error("Unable to connect to the database:",e)}},o=async()=>{try{await n.sync({alter:!0}),console.log("All models were synchronized successfully.")}catch(e){console.error("Error synchronizing models:",e)}};e.exports={sequelize:n,testDBConnection:i,syncModels:o}},926:()=>{},6721:(e,t,r)=>{"use strict";r.d(t,{W:()=>o});var s=r(9344),n=r.n(s),i=r(926);let o=(e,t,r)=>{let s=e.headers.authorization?.split(" ")[1];if(!s)return t.status(401).json({message:"No token provided."});n().verify(s,i.jwtSecret,(s,n)=>{if(s)return t.status(401).json({message:"Unauthorized."});e.user=n,r()})}},5607:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>u});var n=r(5616),i=r(2884),o=r(6721),a=e([n]);n=(a.then?(await a)():a)[0];let c=(0,n.default)();c.use(o.W).post(async(e,t)=>{await (0,i.connectDB)();let{reminderMessage:r,dueDate:s}=e.body,n=e.user.id;t.status(201).json({userId:n,reminderMessage:r,dueDate:s})});let u=c;s()}catch(e){s(e)}})},7153:(e,t)=>{"use strict";var r;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return r}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(r||(r={}))},1802:(e,t,r)=>{"use strict";e.exports=r(145)}};var t=require("../../../webpack-api-runtime.js");t.C(e);var r=t(t.s=314);module.exports=r})();