"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/auth/login";
exports.ids = ["pages/api/auth/login"];
exports.modules = {

/***/ "bcryptjs":
/*!***************************!*\
  !*** external "bcryptjs" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("bcryptjs");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "sequelize":
/*!****************************!*\
  !*** external "sequelize" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("sequelize");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2Flogin&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fauth%2Flogin.js&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2Flogin&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fauth%2Flogin.js&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_auth_login_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/auth/login.js */ \"(api)/./pages/api/auth/login.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_auth_login_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_auth_login_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/auth/login\",\n        pathname: \"/api/auth/login\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_auth_login_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmF1dGglMkZsb2dpbiZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTJGYXBpJTJGYXV0aCUyRmxvZ2luLmpzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQ3NEO0FBQ3REO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyxxREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMscURBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGxhbm5lci8/MDkwZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXMvYXBpL2F1dGgvbG9naW4uanNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hdXRoL2xvZ2luXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYXV0aC9sb2dpblwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2Flogin&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fauth%2Flogin.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./config/db.js":
/*!**********************!*\
  !*** ./config/db.js ***!
  \**********************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("// config/db.js\n\nconst { Sequelize } = __webpack_require__(/*! sequelize */ \"sequelize\");\n// Database connection\nconst sequelize = new Sequelize(\"postgres://Sthwalo:LeeZee1823%21@localhost:5432/plannerdb\", {\n    dialect: \"postgres\",\n    logging: console.log\n});\n// Test connection\nconst connectDB = async ()=>{\n    try {\n        await sequelize.authenticate();\n        console.log(\"Database connected successfully.\");\n    } catch (error) {\n        console.error(\"Unable to connect to the database:\", error);\n    }\n};\n// config/db.js\nconst syncModels = async ()=>{\n    try {\n        await sequelize.sync({\n            alter: true\n        }); // Use alter: true to update the schema\n        console.log(\"All models were synchronized successfully.\");\n    } catch (error) {\n        console.error(\"Error synchronizing models:\", error);\n    }\n};\nmodule.exports = {\n    sequelize,\n    connectDB,\n    syncModels\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9jb25maWcvZGIuanMiLCJtYXBwaW5ncyI6IkFBQUEsZUFBZTs7QUFDZixNQUFNLEVBQUVBLFNBQVMsRUFBRSxHQUFHQyxtQkFBT0EsQ0FBQztBQUU5QixzQkFBc0I7QUFDdEIsTUFBTUMsWUFBWSxJQUFJRixVQUFVRywyREFBd0IsRUFBRTtJQUN4REcsU0FBUztJQUNUQyxTQUFTQyxRQUFRQyxHQUFHO0FBQ3RCO0FBRUEsa0JBQWtCO0FBQ2xCLE1BQU1DLFlBQVk7SUFDaEIsSUFBSTtRQUNGLE1BQU1SLFVBQVVTLFlBQVk7UUFDNUJILFFBQVFDLEdBQUcsQ0FBQztJQUNkLEVBQUUsT0FBT0csT0FBTztRQUNkSixRQUFRSSxLQUFLLENBQUMsc0NBQXNDQTtJQUN0RDtBQUNGO0FBRUEsZUFBZTtBQUNmLE1BQU1DLGFBQWE7SUFDZixJQUFJO1FBQ0YsTUFBTVgsVUFBVVksSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBSyxJQUFJLHVDQUF1QztRQUM5RVAsUUFBUUMsR0FBRyxDQUFDO0lBQ2QsRUFBRSxPQUFPRyxPQUFPO1FBQ2RKLFFBQVFJLEtBQUssQ0FBQywrQkFBK0JBO0lBQy9DO0FBQ0Y7QUFFQUksT0FBT0MsT0FBTyxHQUFHO0lBQUVmO0lBQVdRO0lBQVdHO0FBQVkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wbGFubmVyLy4vY29uZmlnL2RiLmpzP2I0OTMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gY29uZmlnL2RiLmpzXG5jb25zdCB7IFNlcXVlbGl6ZSB9ID0gcmVxdWlyZSgnc2VxdWVsaXplJyk7XG5cbi8vIERhdGFiYXNlIGNvbm5lY3Rpb25cbmNvbnN0IHNlcXVlbGl6ZSA9IG5ldyBTZXF1ZWxpemUocHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMLCB7XG4gIGRpYWxlY3Q6ICdwb3N0Z3JlcycsXG4gIGxvZ2dpbmc6IGNvbnNvbGUubG9nLCAvLyBTZXQgdG8gdHJ1ZSB0byBzZWUgU1FMIHF1ZXJpZXMgaW4gdGhlIGNvbnNvbGVcbn0pO1xuXG4vLyBUZXN0IGNvbm5lY3Rpb25cbmNvbnN0IGNvbm5lY3REQiA9IGFzeW5jICgpID0+IHtcbiAgdHJ5IHtcbiAgICBhd2FpdCBzZXF1ZWxpemUuYXV0aGVudGljYXRlKCk7XG4gICAgY29uc29sZS5sb2coJ0RhdGFiYXNlIGNvbm5lY3RlZCBzdWNjZXNzZnVsbHkuJyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignVW5hYmxlIHRvIGNvbm5lY3QgdG8gdGhlIGRhdGFiYXNlOicsIGVycm9yKTtcbiAgfVxufTtcblxuLy8gY29uZmlnL2RiLmpzXG5jb25zdCBzeW5jTW9kZWxzID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBzZXF1ZWxpemUuc3luYyh7IGFsdGVyOiB0cnVlIH0pOyAvLyBVc2UgYWx0ZXI6IHRydWUgdG8gdXBkYXRlIHRoZSBzY2hlbWFcbiAgICAgIGNvbnNvbGUubG9nKCdBbGwgbW9kZWxzIHdlcmUgc3luY2hyb25pemVkIHN1Y2Nlc3NmdWxseS4nKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc3luY2hyb25pemluZyBtb2RlbHM6JywgZXJyb3IpO1xuICAgIH1cbiAgfTtcbiAgXG4gIG1vZHVsZS5leHBvcnRzID0geyBzZXF1ZWxpemUsIGNvbm5lY3REQiwgc3luY01vZGVscywgfTtcbiJdLCJuYW1lcyI6WyJTZXF1ZWxpemUiLCJyZXF1aXJlIiwic2VxdWVsaXplIiwicHJvY2VzcyIsImVudiIsIkRBVEFCQVNFX1VSTCIsImRpYWxlY3QiLCJsb2dnaW5nIiwiY29uc29sZSIsImxvZyIsImNvbm5lY3REQiIsImF1dGhlbnRpY2F0ZSIsImVycm9yIiwic3luY01vZGVscyIsInN5bmMiLCJhbHRlciIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./config/db.js\n");

/***/ }),

/***/ "(api)/./models/User.js":
/*!************************!*\
  !*** ./models/User.js ***!
  \************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("// models/User.js\n\nconst { DataTypes } = __webpack_require__(/*! sequelize */ \"sequelize\");\nconst { sequelize } = __webpack_require__(/*! ../config/db */ \"(api)/./config/db.js\");\nconst User = sequelize.define(\"User\", {\n    username: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        unique: true\n    },\n    password: {\n        type: DataTypes.STRING,\n        allowNull: false\n    }\n});\nmodule.exports = User;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9tb2RlbHMvVXNlci5qcyIsIm1hcHBpbmdzIjoiQUFBQSxpQkFBaUI7O0FBQ2pCLE1BQU0sRUFBRUEsU0FBUyxFQUFFLEdBQUdDLG1CQUFPQSxDQUFDO0FBQzlCLE1BQU0sRUFBRUMsU0FBUyxFQUFFLEdBQUdELG1CQUFPQSxDQUFDO0FBRTlCLE1BQU1FLE9BQU9ELFVBQVVFLE1BQU0sQ0FBQyxRQUFRO0lBQ3BDQyxVQUFVO1FBQ1JDLE1BQU1OLFVBQVVPLE1BQU07UUFDdEJDLFdBQVc7UUFDWEMsUUFBUTtJQUNWO0lBQ0FDLFVBQVU7UUFDUkosTUFBTU4sVUFBVU8sTUFBTTtRQUN0QkMsV0FBVztJQUNiO0FBQ0Y7QUFFQUcsT0FBT0MsT0FBTyxHQUFHVCIsInNvdXJjZXMiOlsid2VicGFjazovL3BsYW5uZXIvLi9tb2RlbHMvVXNlci5qcz83MzY3Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIG1vZGVscy9Vc2VyLmpzXG5jb25zdCB7IERhdGFUeXBlcyB9ID0gcmVxdWlyZSgnc2VxdWVsaXplJyk7XG5jb25zdCB7IHNlcXVlbGl6ZSB9ID0gcmVxdWlyZSgnLi4vY29uZmlnL2RiJyk7XG5cbmNvbnN0IFVzZXIgPSBzZXF1ZWxpemUuZGVmaW5lKCdVc2VyJywge1xuICB1c2VybmFtZToge1xuICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICB1bmlxdWU6IHRydWUsXG4gIH0sXG4gIHBhc3N3b3JkOiB7XG4gICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICBhbGxvd051bGw6IGZhbHNlLFxuICB9LFxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gVXNlcjsiXSwibmFtZXMiOlsiRGF0YVR5cGVzIiwicmVxdWlyZSIsInNlcXVlbGl6ZSIsIlVzZXIiLCJkZWZpbmUiLCJ1c2VybmFtZSIsInR5cGUiLCJTVFJJTkciLCJhbGxvd051bGwiLCJ1bmlxdWUiLCJwYXNzd29yZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./models/User.js\n");

/***/ }),

/***/ "(api)/./pages/api/auth/login.js":
/*!*********************************!*\
  !*** ./pages/api/auth/login.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _config_db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../config/db */ \"(api)/./config/db.js\");\n/* harmony import */ var _config_db__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_config_db__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _models_User__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../models/User */ \"(api)/./models/User.js\");\n/* harmony import */ var _models_User__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_models_User__WEBPACK_IMPORTED_MODULE_3__);\n/* // pages/api/auth/login.js\nimport cors from 'cors';\nimport nextConnect from 'next-connect';\nimport bcrypt from 'bcryptjs';\nimport jwt from 'jsonwebtoken';\nimport { connectDB, syncModels } from '../../../config/db';\nimport User from '../../../models/User';\n\nconst handler = nextConnect();\nhandler.use(cors()); // Use CORS middleware\n\nhandler.post(async (req, res) => {\n  try {\n    // Log JWT Secret to check if it's correctly loaded\n    console.log('JWT Secret:', process.env.JWT_SECRET);\n\n    // Connect to the database\n    await connectDB();\n    await syncModels();\n\n    const { username, password } = req.body;\n\n    // Validate input\n    if (!username || !password) {\n      return res.status(400).json({ message: 'All fields are required.' });\n    }\n\n    // Find user by username\n    const user = await User.findOne({ where: { username } });\n    if (!user) {\n      return res.status(400).json({ message: 'Invalid credentials.' });\n    }\n\n    // Compare passwords\n    const isMatch = await bcrypt.compare(password, user.password);\n    if (!isMatch) {\n      return res.status(400).json({ message: 'Invalid credentials.' });\n    }\n\n    // Generate JWT token\n    const token = jwt.sign({ id: user.id, username: user.username }, process.env.JWT_SECRET, {\n      expiresIn: '1h', // Token expires in 1 hour\n    });\n\n    // Log success and send the token to the client\n    console.log('Login successful for user:', username);\n    return res.status(200).json({ token });\n  } catch (error) {\n    console.error('Login error:', error);\n    return res.status(500).json({ message: 'Internal server error' });\n  }\n});\n\nexport default handler; */ \n\n\n\nasync function handler(req, res) {\n    if (req.method === \"POST\") {\n        try {\n            // Connect to the database and sync models\n            await (0,_config_db__WEBPACK_IMPORTED_MODULE_0__.connectDB)();\n            await (0,_config_db__WEBPACK_IMPORTED_MODULE_0__.syncModels)();\n            const { username, password } = req.body;\n            // Validate input\n            if (!username || !password) {\n                return res.status(400).json({\n                    message: \"All fields are required.\"\n                });\n            }\n            // Find the user in the database\n            const user = await _models_User__WEBPACK_IMPORTED_MODULE_3___default().findOne({\n                where: {\n                    username\n                }\n            });\n            if (!user) {\n                return res.status(400).json({\n                    message: \"Invalid credentials.\"\n                });\n            }\n            // Compare passwords\n            const isMatch = await bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().compare(password, user.password);\n            if (!isMatch) {\n                return res.status(400).json({\n                    message: \"Invalid credentials.\"\n                });\n            }\n            // Generate JWT token\n            const token = jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default().sign({\n                id: user.id,\n                username: user.username\n            }, \"zSPZtDI2KNCGbgeInwSURokulVVzCAiRQEj0DBZXMjE=\", {\n                expiresIn: \"1h\"\n            } // Token expires in 1 hour\n            );\n            // Return the token to the client\n            return res.status(200).json({\n                token\n            });\n        } catch (error) {\n            console.error(\"Login error:\", error);\n            return res.status(500).json({\n                message: \"Internal server error\"\n            });\n        }\n    } else {\n        res.setHeader(\"Allow\", [\n            \"POST\"\n        ]);\n        return res.status(405).end(`Method ${req.method} Not Allowed`);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvYXV0aC9sb2dpbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7d0JBcUR3QixHQUNtQztBQUM3QjtBQUNDO0FBQ1M7QUFFekIsZUFBZUssUUFBUUMsR0FBRyxFQUFFQyxHQUFHO0lBQzVDLElBQUlELElBQUlFLE1BQU0sS0FBSyxRQUFRO1FBQ3pCLElBQUk7WUFDRiwwQ0FBMEM7WUFDMUMsTUFBTVIscURBQVNBO1lBQ2YsTUFBTUMsc0RBQVVBO1lBRWhCLE1BQU0sRUFBRVEsUUFBUSxFQUFFQyxRQUFRLEVBQUUsR0FBR0osSUFBSUssSUFBSTtZQUV2QyxpQkFBaUI7WUFDakIsSUFBSSxDQUFDRixZQUFZLENBQUNDLFVBQVU7Z0JBQzFCLE9BQU9ILElBQUlLLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7b0JBQUVDLFNBQVM7Z0JBQTJCO1lBQ3BFO1lBRUEsZ0NBQWdDO1lBQ2hDLE1BQU1DLE9BQU8sTUFBTVgsMkRBQVksQ0FBQztnQkFBRWEsT0FBTztvQkFBRVI7Z0JBQVM7WUFBRTtZQUN0RCxJQUFJLENBQUNNLE1BQU07Z0JBQ1QsT0FBT1IsSUFBSUssTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztvQkFBRUMsU0FBUztnQkFBdUI7WUFDaEU7WUFFQSxvQkFBb0I7WUFDcEIsTUFBTUksVUFBVSxNQUFNaEIsdURBQWMsQ0FBQ1EsVUFBVUssS0FBS0wsUUFBUTtZQUM1RCxJQUFJLENBQUNRLFNBQVM7Z0JBQ1osT0FBT1gsSUFBSUssTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztvQkFBRUMsU0FBUztnQkFBdUI7WUFDaEU7WUFFQSxxQkFBcUI7WUFDckIsTUFBTU0sUUFBUWpCLHdEQUFRLENBQ3BCO2dCQUFFbUIsSUFBSVAsS0FBS08sRUFBRTtnQkFBRWIsVUFBVU0sS0FBS04sUUFBUTtZQUFDLEdBQ3ZDYyw4Q0FBc0IsRUFDdEI7Z0JBQUVHLFdBQVc7WUFBSyxFQUFFLDBCQUEwQjs7WUFHaEQsaUNBQWlDO1lBQ2pDLE9BQU9uQixJQUFJSyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUFFTztZQUFNO1FBRXRDLEVBQUUsT0FBT08sT0FBTztZQUNkQyxRQUFRRCxLQUFLLENBQUMsZ0JBQWdCQTtZQUM5QixPQUFPcEIsSUFBSUssTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFBRUMsU0FBUztZQUF3QjtRQUNqRTtJQUNGLE9BQU87UUFDTFAsSUFBSXNCLFNBQVMsQ0FBQyxTQUFTO1lBQUM7U0FBTztRQUMvQixPQUFPdEIsSUFBSUssTUFBTSxDQUFDLEtBQUtrQixHQUFHLENBQUMsQ0FBQyxPQUFPLEVBQUV4QixJQUFJRSxNQUFNLENBQUMsWUFBWSxDQUFDO0lBQy9EO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wbGFubmVyLy4vcGFnZXMvYXBpL2F1dGgvbG9naW4uanM/MTMxNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiAvLyBwYWdlcy9hcGkvYXV0aC9sb2dpbi5qc1xuaW1wb3J0IGNvcnMgZnJvbSAnY29ycyc7XG5pbXBvcnQgbmV4dENvbm5lY3QgZnJvbSAnbmV4dC1jb25uZWN0JztcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnO1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuaW1wb3J0IHsgY29ubmVjdERCLCBzeW5jTW9kZWxzIH0gZnJvbSAnLi4vLi4vLi4vY29uZmlnL2RiJztcbmltcG9ydCBVc2VyIGZyb20gJy4uLy4uLy4uL21vZGVscy9Vc2VyJztcblxuY29uc3QgaGFuZGxlciA9IG5leHRDb25uZWN0KCk7XG5oYW5kbGVyLnVzZShjb3JzKCkpOyAvLyBVc2UgQ09SUyBtaWRkbGV3YXJlXG5cbmhhbmRsZXIucG9zdChhc3luYyAocmVxLCByZXMpID0+IHtcbiAgdHJ5IHtcbiAgICAvLyBMb2cgSldUIFNlY3JldCB0byBjaGVjayBpZiBpdCdzIGNvcnJlY3RseSBsb2FkZWRcbiAgICBjb25zb2xlLmxvZygnSldUIFNlY3JldDonLCBwcm9jZXNzLmVudi5KV1RfU0VDUkVUKTtcblxuICAgIC8vIENvbm5lY3QgdG8gdGhlIGRhdGFiYXNlXG4gICAgYXdhaXQgY29ubmVjdERCKCk7XG4gICAgYXdhaXQgc3luY01vZGVscygpO1xuXG4gICAgY29uc3QgeyB1c2VybmFtZSwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xuXG4gICAgLy8gVmFsaWRhdGUgaW5wdXRcbiAgICBpZiAoIXVzZXJuYW1lIHx8ICFwYXNzd29yZCkge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ0FsbCBmaWVsZHMgYXJlIHJlcXVpcmVkLicgfSk7XG4gICAgfVxuXG4gICAgLy8gRmluZCB1c2VyIGJ5IHVzZXJuYW1lXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IHdoZXJlOiB7IHVzZXJuYW1lIH0gfSk7XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnSW52YWxpZCBjcmVkZW50aWFscy4nIH0pO1xuICAgIH1cblxuICAgIC8vIENvbXBhcmUgcGFzc3dvcmRzXG4gICAgY29uc3QgaXNNYXRjaCA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKTtcbiAgICBpZiAoIWlzTWF0Y2gpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdJbnZhbGlkIGNyZWRlbnRpYWxzLicgfSk7XG4gICAgfVxuXG4gICAgLy8gR2VuZXJhdGUgSldUIHRva2VuXG4gICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbih7IGlkOiB1c2VyLmlkLCB1c2VybmFtZTogdXNlci51c2VybmFtZSB9LCBwcm9jZXNzLmVudi5KV1RfU0VDUkVULCB7XG4gICAgICBleHBpcmVzSW46ICcxaCcsIC8vIFRva2VuIGV4cGlyZXMgaW4gMSBob3VyXG4gICAgfSk7XG5cbiAgICAvLyBMb2cgc3VjY2VzcyBhbmQgc2VuZCB0aGUgdG9rZW4gdG8gdGhlIGNsaWVudFxuICAgIGNvbnNvbGUubG9nKCdMb2dpbiBzdWNjZXNzZnVsIGZvciB1c2VyOicsIHVzZXJuYW1lKTtcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyB0b2tlbiB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdMb2dpbiBlcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4gIH1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBoYW5kbGVyOyAqL1xuaW1wb3J0IHsgY29ubmVjdERCLCBzeW5jTW9kZWxzIH0gZnJvbSAnLi4vLi4vLi4vY29uZmlnL2RiJztcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnO1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuaW1wb3J0IFVzZXIgZnJvbSAnLi4vLi4vLi4vbW9kZWxzL1VzZXInO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XG4gIGlmIChyZXEubWV0aG9kID09PSAnUE9TVCcpIHtcbiAgICB0cnkge1xuICAgICAgLy8gQ29ubmVjdCB0byB0aGUgZGF0YWJhc2UgYW5kIHN5bmMgbW9kZWxzXG4gICAgICBhd2FpdCBjb25uZWN0REIoKTtcbiAgICAgIGF3YWl0IHN5bmNNb2RlbHMoKTtcblxuICAgICAgY29uc3QgeyB1c2VybmFtZSwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xuXG4gICAgICAvLyBWYWxpZGF0ZSBpbnB1dFxuICAgICAgaWYgKCF1c2VybmFtZSB8fCAhcGFzc3dvcmQpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ0FsbCBmaWVsZHMgYXJlIHJlcXVpcmVkLicgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIEZpbmQgdGhlIHVzZXIgaW4gdGhlIGRhdGFiYXNlXG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHsgd2hlcmU6IHsgdXNlcm5hbWUgfSB9KTtcbiAgICAgIGlmICghdXNlcikge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnSW52YWxpZCBjcmVkZW50aWFscy4nIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBDb21wYXJlIHBhc3N3b3Jkc1xuICAgICAgY29uc3QgaXNNYXRjaCA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKTtcbiAgICAgIGlmICghaXNNYXRjaCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnSW52YWxpZCBjcmVkZW50aWFscy4nIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBHZW5lcmF0ZSBKV1QgdG9rZW5cbiAgICAgIGNvbnN0IHRva2VuID0gand0LnNpZ24oXG4gICAgICAgIHsgaWQ6IHVzZXIuaWQsIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lIH0sXG4gICAgICAgIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQsXG4gICAgICAgIHsgZXhwaXJlc0luOiAnMWgnIH0gLy8gVG9rZW4gZXhwaXJlcyBpbiAxIGhvdXJcbiAgICAgICk7XG5cbiAgICAgIC8vIFJldHVybiB0aGUgdG9rZW4gdG8gdGhlIGNsaWVudFxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgdG9rZW4gfSk7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignTG9naW4gZXJyb3I6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJlcy5zZXRIZWFkZXIoJ0FsbG93JywgWydQT1NUJ10pO1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuZW5kKGBNZXRob2QgJHtyZXEubWV0aG9kfSBOb3QgQWxsb3dlZGApO1xuICB9XG59Il0sIm5hbWVzIjpbImNvbm5lY3REQiIsInN5bmNNb2RlbHMiLCJiY3J5cHQiLCJqd3QiLCJVc2VyIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJib2R5Iiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJ1c2VyIiwiZmluZE9uZSIsIndoZXJlIiwiaXNNYXRjaCIsImNvbXBhcmUiLCJ0b2tlbiIsInNpZ24iLCJpZCIsInByb2Nlc3MiLCJlbnYiLCJKV1RfU0VDUkVUIiwiZXhwaXJlc0luIiwiZXJyb3IiLCJjb25zb2xlIiwic2V0SGVhZGVyIiwiZW5kIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/auth/login.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2Flogin&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fauth%2Flogin.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();